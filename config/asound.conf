# SPH0645 I2S Mic (capture) + Pirate Audio DAC/Amp (playback)
# On Pi 5 with both I2S devices sharing BCLK/LRCK, they typically
# appear on the same sound card but different subdevices.
# Adjust card numbers if arecord -l / aplay -l show different cards.

pcm.!default {
  type asym
  playback.pcm "speaker"
  capture.pcm "mic"
}

# SPH0645 records S32_LE mono at 48kHz natively
pcm.mic {
  type plug
  slave {
    pcm "hw:0,0"
    format S32_LE
    channels 1
    rate 48000
  }
}

# Resampled to 16kHz for whisper
pcm.mic16k {
  type rate
  slave {
    pcm "mic"
    rate 16000
  }
}

# Pirate Audio DAC â€” may be card 1 if mic is card 0
# Run: aplay -l  to check. Change hw:X,0 accordingly.
pcm.speaker {
  type plug
  slave {
    pcm "hw:0,0"
    format S32_LE
    channels 2
    rate 44100
  }
}

ctl.!default {
  type hw
  card 0
}
